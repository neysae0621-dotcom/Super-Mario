<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="超级马里奥Lite - 经典平台闯关小游戏，键盘操作，网页端游玩。" />
    <title>超级马里奥Lite - 首页</title>
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body class="page-home">
    <!-- 滚动指示器 -->
    <div class="scroll-indicator"></div>
    
    <!-- 悬浮粒子效果 -->
    <div class="floating-particles"></div>
    
    <header class="site-header">
      <div class="container">
        <div class="brand">
          <a href="index.html" class="logo">超级马里奥Lite</a>
        </div>
        <nav class="site-nav">
          <a class="nav-link active" href="index.html">首页</a>
          <a class="nav-link" href="game.html">开始游戏</a>
          <a class="nav-link" href="contact.html">联系我们</a>
        </nav>
      </div>
    </header>

    <main>
      <section class="hero">
        <div class="container">
          <div class="hero-pixel-art">
            <div class="mario-sprite">🍄</div>
            <div class="coin-sprite rotating">⭐</div>
            <div class="enemy-sprite bouncing">👹</div>
          </div>
          <h1>欢迎来到「超级马里奥Lite」</h1>
          <p class="subtitle">向经典致敬的网页平台闯关小游戏。无需安装，打开即玩！</p>
                          <div class="hero-stats">
                  <div class="stat-item">
                    <span class="stat-number">40</span>
                    <span class="stat-label">精心设计的关卡</span>
                  </div>
                                   <div class="stat-item">
                   <span class="stat-number">6+</span>
                   <span class="stat-label">不同类型的敌人</span>
                 </div>
                  <div class="stat-item">
                    <span class="stat-number">50+</span>
                    <span class="stat-label">特殊道具和收集品</span>
                  </div>
                </div>
          <div class="hero-actions">
            <a class="btn btn-primary pulse" href="game.html">🎮 立即开始冒险</a>
            <a class="btn" href="#features">🎯 探索游戏特色</a>
          </div>
        </div>
      </section>

      <section id="story" class="section">
        <div class="container">
          <h2>🏰 故事背景</h2>
          <div class="story-content">
            <div class="story-text">
              <p>
                你是一名冒险家马里奥，冒险的路上往往充满着危险的陷阱与凶猛的敌人。
              </p>
              <p>
                快踏上这场惊险刺激的冒险之旅！跨越悬崖峭壁、
                跳跃移动平台、巧妙躲避各种敌人，收集神奇的道具来增强自己的能力吧。
                每一关都有新的挑战等待着你！
              </p>
              <p class="story-highlight">
                ⚡ 珍惜你的3条生命！吃红色蘑菇变成超级马里奥Lite后可以抵消一次敌人伤害。
                🟢 拾取绿色加生命蘑菇可以恢复生命，生命满时获得2秒无敌状态！
                使用双重跳跃、无敌星星、闪亮宝石等道具，在充满活力的像素世界中展开经典冒险！
              </p>
            </div>
            <div class="story-features">
              <div class="feature-badge">❤️ 生命系统</div>
              <div class="feature-badge">🌟 连击系统</div>
              <div class="feature-badge">💎 收集品</div>
              <div class="feature-badge">🚀 特殊能力</div>
              <div class="feature-badge">🎯 浮动平台</div>
            </div>
          </div>
        </div>
      </section>

      <section id="howto" class="section section-muted">
        <div class="container">
          <h2>🎮 玩法与操作</h2>
          <div class="controls-grid">
            <div class="control-card">
              <div class="control-icon">⬅️➡️</div>
              <div class="control-title">移动控制</div>
              <div class="control-desc">方向键 ← → 或 A / D</div>
            </div>
            <div class="control-card">
              <div class="control-icon">⬆️</div>
              <div class="control-title">跳跃 & 二段跳</div>
              <div class="control-desc">空格 或 方向键 ↑ 或 W</div>
            </div>
            <div class="control-card">
              <div class="control-icon">⏸️</div>
              <div class="control-title">暂停/继续</div>
              <div class="control-desc">按 P 键</div>
            </div>
            <div class="control-card">
              <div class="control-icon">🔄</div>
              <div class="control-title">重新开始</div>
              <div class="control-desc">按 R 键</div>
            </div>
          </div>
          <div class="gameplay-tips">
            <h3>🎯 游戏技巧</h3>
            <div class="tips-grid">
              <div class="tip-item">
                <span class="tip-emoji">👢</span>
                <span>踩踏敌人可以消灭它们并获得分数</span>
              </div>
              <div class="tip-item">
                <span class="tip-emoji">⭐</span>
                <span>收集星星获得无敌状态</span>
              </div>
              <div class="tip-item">
                <span class="tip-emoji">🍄</span>
                <span>蘑菇可以让你变大变强</span>
              </div>
              <div class="tip-item">
                <span class="tip-emoji">💎</span>
                <span>宝石能给你额外的金币和分数</span>
              </div>
            </div>
          </div>
          <p class="note">💡 提示：支持桌面端与移动设备。移动设备请使用触屏按钮或外接键盘获得最佳体验。</p>
        </div>
      </section>

      <section id="features" class="section">
        <div class="container">
          <h2>🎯 游戏特色</h2>
          <div class="features-grid">
            <div class="feature-card">
              <div class="feature-icon">🎮</div>
              <h3>经典平台跳跃</h3>
              <p>精准的物理引擎与碰撞判定，支持二段跳，体验流畅的复古过关乐趣。</p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">⚡</div>
              <h3>丰富的游戏机制</h3>
              <p>连击系统、状态效果、粒子特效，多种敌人类型和收集品等你探索。</p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">🌟</div>
              <h3>动态关卡设计</h3>
              <p>浮动平台、移动敌人、隐藏道具，每个关卡都有独特的挑战和惊喜。</p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">🎵</div>
              <h3>沉浸式音效</h3>
              <p>经典的音效设计和背景音乐，可自由切换开关，营造完美的游戏氛围。</p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">💻</div>
              <h3>跨平台兼容</h3>
              <p>无需安装，支持桌面和移动设备，优化的触屏控制带来便捷体验。</p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">🏆</div>
              <h3>进度保存</h3>
              <p>自动保存游戏进度，记录最高分数和解锁关卡，随时继续你的冒险。</p>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <div class="container">
        <p>© 2025 超级马里奥Lite | 网页制作者保留所有权利</p>
      </div>
    </footer>

    <script>
      // 滚动指示器
      function updateScrollIndicator() {
        const scrollIndicator = document.querySelector('.scroll-indicator');
        const scrollTop = window.pageYOffset;
        const docHeight = document.documentElement.scrollHeight - window.innerHeight;
        const scrollPercent = (scrollTop / docHeight) * 100;
        scrollIndicator.style.transform = `scaleX(${scrollPercent / 100})`;
      }

      // 鼠标跟随光效 - 优化版本
      let mouseX = 50;
      let mouseY = 50;
      let isMouseActive = false;
      
      function handleMouseMove(e) {
        mouseX = (e.clientX / window.innerWidth) * 100;
        mouseY = (e.clientY / window.innerHeight) * 100;
        
        if (!isMouseActive) {
          isMouseActive = true;
          document.body.classList.add('mouse-active');
        }
        
        // 使用 requestAnimationFrame 优化性能
        requestAnimationFrame(() => {
          document.documentElement.style.setProperty('--mouse-x', mouseX + '%');
          document.documentElement.style.setProperty('--mouse-y', mouseY + '%');
        });
      }

      function handleMouseLeave() {
        isMouseActive = false;
        document.body.classList.remove('mouse-active');
      }

      // 创建悬浮粒子 - 优化版本
      function createParticles() {
        const particlesContainer = document.querySelector('.floating-particles');
        const particleCount = 8; // 减少粒子数量
        
        for (let i = 0; i < particleCount; i++) {
          const particle = document.createElement('div');
          particle.className = 'particle';
          
          // 随机位置和延迟，更自然的分布
          particle.style.left = Math.random() * 100 + '%';
          particle.style.animationDelay = (Math.random() * 8) + 's';
          particle.style.animationDuration = (Math.random() * 4 + 6) + 's';
          
          particlesContainer.appendChild(particle);
        }
      }

      // 平滑滚动到锚点
      function smoothScrollToAnchor() {
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
          anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
              target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
              });
            }
          });
        });
      }

      // 元素进入视窗时的动画
      function observeElements() {
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.style.opacity = '1';
              entry.target.style.transform = 'translateY(0)';
            }
          });
        }, {
          threshold: 0.1,
          rootMargin: '0px 0px -50px 0px'
        });

        document.querySelectorAll('.feature-card, .control-card, .story-content').forEach(el => {
          el.style.opacity = '0';
          el.style.transform = 'translateY(20px)';
          el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
          observer.observe(el);
        });
      }

      // 初始化所有效果
      document.addEventListener('DOMContentLoaded', function() {
        updateScrollIndicator();
        createParticles();
        smoothScrollToAnchor();
        observeElements();
        
        // 事件监听器
        window.addEventListener('scroll', updateScrollIndicator);
        document.addEventListener('mousemove', handleMouseMove);
        document.addEventListener('mouseleave', handleMouseLeave);
        
        // 页面加载完成后的额外效果
        setTimeout(() => {
          document.body.style.opacity = '1';
        }, 100);
      });

      // 防抖函数
      function debounce(func, wait) {
        let timeout;
        return function executedFunction(...args) {
          const later = () => {
            clearTimeout(timeout);
            func(...args);
          };
          clearTimeout(timeout);
          timeout = setTimeout(later, wait);
        };
      }

      // 优化滚动性能
      window.addEventListener('scroll', debounce(updateScrollIndicator, 10));
    </script>
  </body>
  </html>


